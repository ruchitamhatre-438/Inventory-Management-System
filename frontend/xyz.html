<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Inventory Management System</title> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"> 
  <script src="https://cdn.tailwindcss.com"></script> 
  <style> 
    /* Your existing CSS styles go here */ 
    body { 
      font-family: 'Arial', sans-serif; 
      margin: 0; 
      padding: 0; 
      background-color: #f0f2f5; 
    } 
    .navbar { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      padding: 0 20px; 
      height: 70px; 
      background-color: #fff; 
      border-bottom: 1px solid #e0e0e0; 
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); 
    } 
    .navbar h1 { 
      margin: 0; 
      font-size: 26px; 
      color: #333; 
    } 
    .middle-body { 
      display: flex; 
      flex-wrap: wrap; 
      justify-content: center; 
      align-items: flex-start; 
      padding: 40px 20px; 
      gap: 30px; 
    } 
    .card { 
      width: calc(33.33% - 20px); 
      background-color: #fff; 
      border: 1px solid #ddd; 
      border-radius: 12px; 
      overflow: hidden; 
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); 
      transition: transform 0.3s ease, box-shadow 0.3s ease; 
      text-align: center; 
      text-decoration: none; 
      color: inherit; 
      position: relative; 
      cursor: pointer; 
    } 
    .card:hover { 
      transform: translateY(-8px); 
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); 
    } 
    .card img { 
      width: 100%; 
      height: 250px; 
      object-fit: cover; 
    } 
    .add-domain-button { 
      position: fixed; 
      bottom: 20px; 
      right: 20px; 
      z-index: 1000; 
      width: 50px; 
      height: 50px; 
      border-radius: 50%; 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      font-size: 24px; 
      color: white; 
      cursor: pointer; 
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); 
      transition: background-color 0.3s ease; 
      background-color: #4CAF50; /* Green */ 
    } 
    .add-domain-button:hover { 
      opacity: 0.9; 
    } 
    .modal { 
      display: none; 
      position: fixed; 
      z-index: 1001; 
      left: 0; 
      top: 0; 
      width: 100%; 
      height: 100%; 
      overflow: auto; 
      background-color: rgba(0, 0, 0, 0.6); 
      padding-top: 50px; 
    } 
    .modal-content { 
      background-color: #fff; 
      margin: 5% auto; 
      padding: 25px; 
      border-radius: 10px; 
      width: 80%; 
      max-width: 500px; 
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); 
      position: relative; 
    } 
    .modal-close-btn { 
      color: #aaa; 
      float: right; 
      font-size: 28px; 
      font-weight: bold; 
      cursor: pointer; 
    } 
    .modal-close-btn:hover, .modal-close-btn:focus { 
      color: #000; 
    } 
    .modal-content input, .modal-content textarea { 
      width: 100%; 
      padding: 10px; 
      margin-bottom: 15px; 
      border: 1px solid #ccc; 
      border-radius: 5px; 
      box-sizing: border-box; 
    } 
    .modal-content button { 
      background-color: #00796b; 
      color: white; 
      padding: 12px 20px; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer; 
      width: 100%; 
    } 
    .hover-popup { 
      display: none; 
      position: absolute; 
      bottom: 10px; 
      left: 50%; 
      transform: translateX(-50%); 
      background-color: rgba(0, 0, 0, 0.7); 
      color: white; 
      padding: 5px 10px; 
      border-radius: 5px; 
      font-size: 14px; 
      white-space: nowrap; 
      z-index: 10; 
      cursor: pointer; 
    } 
    .card-image-wrapper:hover .hover-popup, .card-count-wrapper:hover .hover-popup { 
      display: block; 
    } 
    .card-image-wrapper { 
      position: relative; 
    } 
    .card-count-wrapper { 
      position: relative; 
    } 
    .card-menu { 
      position: absolute; 
      top: 10px; 
      right: 10px; 
      cursor: pointer; 
      color: white; 
      font-size: 1.2em; 
      background-color: rgba(0, 0, 0, 0.5); 
      border-radius: 50%; 
      padding: 5px; 
      z-index: 20; 
    } 
    @media (max-width: 1024px) { 
      .card { 
        width: calc(50% - 20px); 
      } 
    } 
    @media (max-width: 640px) { 
      .card { 
        width: 100%; 
      } 
      .middle-body { 
        padding: 20px 10px; 
        gap: 15px; 
      } 
      .navbar { 
        flex-direction: row; 
        height: auto; 
        padding: 10px; 
        text-align: center; 
      } 
      .navbar h1 { 
        font-size: 20px; 
      } 
      .action-button { 
        width: 45px; 
        height: 45px; 
        font-size: 22px; 
      } 
      .modal-content { 
        width: 95%; 
      } 
    } 
    /* Sidebar styles */ 
    .menu-button-container { 
      position: relative; 
      cursor: pointer; 
      font-size: 1.5em; 
    } 
    .sidebar { 
      height: 100%; 
      width: 0; /* Hidden by default */ 
      position: fixed; 
      z-index: 1001; 
      top: 0; 
      right: 0; 
      background-color: #f8f9fa; 
      overflow-x: hidden; 
      transition: 0.5s; /* Smooth slide-in effect */ 
      padding-top: 60px; 
      box-shadow: -4px 0 8px rgba(0, 0, 0, 0.1); 
    } 
    .close-btn { 
      position: absolute; 
      top: 0; 
      right: 25px; 
      font-size: 36px; 
      margin-left: 50px; 
      text-decoration: none; 
      color: #818181; 
    } 
    .close-btn:hover { 
      color: #4CAF50; 
    } 
    .sidebar-item { 
      padding: 8px 8px 8px 32px; 
      text-decoration: none; 
      font-size: 20px; 
      color: #333; 
      display: block; 
      transition: 0.3s; 
    } 
    .sidebar-item:hover { 
      color: #4CAF50; 
      background-color: #e2e6ea; 
    } 
  </style> 
</head> 
<body> 
  <div class="navbar"> 
    <span><h1>Inventory Management System</h1></span> 
    <div class="menu-button-container"> 
      <i class="fa-solid fa-ellipsis-v" id="menuButton" title="Menu"></i> 
    </div> 
  </div> 

  <div class="sidebar" id="sidebar"> 
    <a href="javascript:void(0)" class="close-btn" id="closeButton">&times;</a> 
    <a href="#" class="sidebar-item" id="homePageLink">Home Page</a> 
    <a href="#" class="sidebar-item" id="logoutLink">Logout</a> 
    <a href="#" class="sidebar-item" id="profileLink">Profile Details</a> 
  </div> 

  <div id="profileModal" class="modal">
  <div class="modal-content" style="max-width:400px; text-align:center;">
    <span class="modal-close-btn" id="closeProfileModal">&times;</span>
    <h2 style="color:#00796b; margin-bottom:15px;">Logged-in User</h2>
    <div id="profileInfo" style="font-size:18px; color:#333; padding:10px 0;"></div>
  </div>
</div>

  <div class="middle-body" id="cardContainer"> 
    <div class="card" data-domain="software"> 
      <div class="card-image-wrapper"> 
        <img src="software.png" alt="Software"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Tools and applications used for coding, system management, or running technical processes. 
      </div> 
      <div id="count1" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component1">0</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 

    <div class="card" data-domain="embedded"> 
      <div class="card-image-wrapper"> 
        <img src="embedded.png" alt="Embedded"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Microcontrollers and boards for dedicated system tasks. 
      </div> 
      <div id="count2" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component2">0</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 

    <div class="card" data-domain="pcb"> 
      <div class="card-image-wrapper"> 
        <img src="pcb.png" alt="PCB"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Boards that connect and support electronic components. 
      </div> 
      <div id="count3" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component3">6</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 

    <div class="card" data-domain="radiofrequency"> 
      <div class="card-image-wrapper"> 
        <img src="rf.png" alt="Radio Frequency"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Devices and modules for wireless communication. 
      </div> 
      <div id="count4" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component4">9</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 

    <div class="card" data-domain="sensors"> 
      <div class="card-image-wrapper"> 
        <img src="sensors.png" alt="Sensors"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Modules that detect environment changes: gas, motion, etc. 
      </div> 
      <div id="count5" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component5">0</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 

    <div class="card" data-domain="tools"> 
      <div class="card-image-wrapper"> 
        <img src="tools.png" alt="Tools"> 
        <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div> 
        <div class="hover-popup">Click to check the data</div> 
      </div> 
      <div style="font-size:18px; padding: 10px;"> 
        Equipment like soldering kits, wrenches, and instruments. 
      </div> 
      <div id="count6" class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;"> 
        Components: <span id="component6">10</span> 
        <div class="hover-popup">Click to add data</div> 
      </div> 
    </div> 
  </div> 

  <div class="add-domain-button" id="addDomainBtn" title="Add New Domain"> 
    <i class="fa-solid fa-plus"></i> 
  </div> 

  <div id="addDomainModal" class="modal"> 
    <div class="modal-content"> 
      <span class="modal-close-btn" id="closeModalBtn">&times;</span> 
      <h2>Add New Domain</h2> 
      <form id="addDomainForm"> 
        <label for="domainName">Domain Name:</label> 
        <input type="text" id="domainName" name="domainName" required> 
        <label for="domainImage">Image Filename (e.g., new-image.png or new-image.jpg):</label> 
        <input type="text" id="domainImage" name="domainImage" required> 
        <label for="domainDescription">Description:</label> 
        <textarea id="domainDescription" name="domainDescription" rows="4" required></textarea> 
        <button type="submit">Add Domain</button> 
      </form> 
    </div> 
  </div> 

  <script> 
    const domains = [ 
      { key: "component1", domain: "software" }, 
      { key: "component2", domain: "embedded" }, 
      { key: "component3", domain: "pcb" }, 
      { key: "component4", domain: "rf" }, 
      { key: "component5", domain: "sensors" }, 
      { key: "component6", domain: "tools" } 
    ]; 

    async function fetchAllCounts() { 
      for (let item of domains) { 
        try { 
          const response = await fetch(`http://localhost:3004/getComponentCount/${item.domain}`); 
          const data = await response.json(); 
          const countElement = document.getElementById(item.key); 
          if (countElement) { 
            countElement.textContent = data.total || 0; 
          } 
        } catch (err) { 
          console.error(`Error fetching count for ${item.domain}:`, err); 
        } 
      } 
    } 
    fetchAllCounts(); 

    document.addEventListener('DOMContentLoaded', () => { 
      const menuButton = document.getElementById('menuButton'); 
      const sidebar = document.getElementById('sidebar'); 
      const closeButton = document.getElementById('closeButton'); 
      const homePageLink = document.getElementById('homePageLink'); 
      const logoutLink = document.getElementById('logoutLink'); 
   

      menuButton.addEventListener('click', (event) => { 
        event.stopPropagation(); 
        sidebar.style.width = '250px'; 
      }); 
      closeButton.addEventListener('click', (event) => { 
        event.stopPropagation(); 
        sidebar.style.width = '0'; 
      }); 
      window.addEventListener('click', (event) => { 
        if (!sidebar.contains(event.target) && !menuButton.contains(event.target)) { 
          sidebar.style.width = '0'; 
        } 
      }); 
      homePageLink.addEventListener('click', (event) => { 
        event.preventDefault(); 
        window.location.href = "index.html"; 
      }); 
      logoutLink.addEventListener('click', (event) => { 
        event.preventDefault(); 
        const confirmed = confirm("Are you sure you want to logout?"); 
               if (confirmed) { 
          window.location.href = "index.html"; 
        } 
      }); 
      
    }); 

  const profileModal = document.getElementById('profileModal');
const closeProfileModal = document.getElementById('closeProfileModal');
const profileInfo = document.getElementById('profileInfo');
const profileDetails = document.getElementById('profileLink');

const loggedInUser = {
  username: "Ruchita",
  username:"Chirant" // just username for your login
};

profileDetails.addEventListener('click', (event) => {
  event.preventDefault();
  profileInfo.innerHTML = `
    <p><strong>Username:</strong> ${loggedInUser.username}</p>
  `;
  profileModal.style.display = "block";
});

closeProfileModal.addEventListener('click', () => {
  profileModal.style.display = "none";
});

window.addEventListener('click', (event) => {
  if (event.target === profileModal) {
    profileModal.style.display = "none";
  }
});


    const addDomainBtn = document.getElementById("addDomainBtn"); 
    const addDomainModal = document.getElementById("addDomainModal"); 
    const closeModalBtn = document.getElementById("closeModalBtn"); 
    const addDomainForm = document.getElementById("addDomainForm"); 
    const cardContainer = document.getElementById("cardContainer"); 

    addDomainBtn.addEventListener("click", () => { 
      addDomainModal.style.display = "block"; 
    }); 

    closeModalBtn.addEventListener("click", () => { 
      addDomainModal.style.display = "none"; 
    }); 

    window.addEventListener("click", (event) => { 
      if (event.target === addDomainModal) { 
        addDomainModal.style.display = "none"; 
      } 
    }); 

    addDomainForm.addEventListener("submit", (event) => { 
      event.preventDefault(); 
      const domainName = document.getElementById("domainName").value; 
      const domainImage = document.getElementById("domainImage").value; 
      const domainDescription = document.getElementById("domainDescription").value; 
      const newDomainCard = document.createElement("div"); 
      const domainSlug = domainName.toLowerCase().replace(/\s/g, ''); 
      newDomainCard.className = "card"; 
      newDomainCard.dataset.domain = domainSlug; 
      newDomainCard.innerHTML = `
        <div class="card-image-wrapper">
          <img src="${domainImage}" alt="${domainName}">
          <div class="card-menu"><i class="fas fa-ellipsis-v"></i></div>
          <div class="hover-popup">Click to check the data</div>
        </div>
        <div style="font-size:18px; padding: 10px;">
          ${domainDescription}
        </div>
        <div class="card-count-wrapper" style="font-size:18px; font-weight: bold; padding-bottom: 10px;">
          Components: <span>0</span>
          <div class="hover-popup">Click to add data</div>
        </div>
      `; 
      cardContainer.appendChild(newDomainCard); 
      addDomainModal.style.display = "none"; 
      addDomainForm.reset(); 
      domains.push({ key: `component-${domainSlug}`, domain: domainSlug }); 
    }); 

    cardContainer.addEventListener('click', function(event) { 
      const card = event.target.closest('.card'); 
      if (!card) return; 
      const cardMenu = event.target.closest('.card-menu'); 
      const countWrapper = event.target.closest('.card-count-wrapper'); 
      const domain = card.dataset.domain; 

      if (cardMenu) { 
        event.stopPropagation(); 
        const confirmed = confirm(`Are you sure you want to delete the '${domain}' domain?`); 
        if (confirmed) { 
          card.remove(); 
          const index = domains.findIndex(item => item.domain === domain); 
          if (index !== -1) { 
            domains.splice(index, 1); 
          } 
        } 
      } else if (countWrapper) { 
        event.stopPropagation(); 
        if (domain) { 
          window.location.href = `try.html?domain=${domain}`; 
        } 
      } else { 
        if (domain) { 
          window.location.href = `${domain}_data.html`; 
        } 
      } 
    }); 
  </script> 
</body> 
</html>

